{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./UpdatesEmitter","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":80,"index":125}}],"key":"/fHEDLJ3F6iAN2DeLsAHAg7O1AA=","exportNames":["*"],"imports":1}},{"name":"./UseUpdatesUtils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":126},"end":{"line":3,"column":78,"index":204}}],"key":"JTRi8Q+i4Jils43kbA11mDJ+09Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useUpdates\", {\n    enumerable: true,\n    get: function () {\n      return useUpdates;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _UpdatesEmitter = require(_dependencyMap[1], \"./UpdatesEmitter\");\n  var _UseUpdatesUtils = require(_dependencyMap[2], \"./UseUpdatesUtils\");\n  /**\n   * Hook that obtains information on available updates and on the currently running update.\n   *\n   * @return the structures with information on currently running and available updates.\n   *\n   * @example\n   * ```tsx UpdatesDemo.tsx\n   * import { StatusBar } from 'expo-status-bar';\n   * import * as Updates from 'expo-updates';\n   * import { useEffect } from 'react';\n   * import { Button, Text, View } from 'react-native';\n   *\n   * export default function UpdatesDemo() {\n   *   const {\n   *     currentlyRunning,\n   *     isUpdateAvailable,\n   *     isUpdatePending\n   *   } = Updates.useUpdates();\n   *\n   *   useEffect(() => {\n   *     if (isUpdatePending) {\n   *       // Update has successfully downloaded; apply it now\n   *       Updates.reloadAsync();\n   *     }\n   *   }, [isUpdatePending]);\n   *\n   *   // If true, we show the button to download and run the update\n   *   const showDownloadButton = isUpdateAvailable;\n   *\n   *   // Show whether or not we are running embedded code or an update\n   *   const runTypeMessage = currentlyRunning.isEmbeddedLaunch\n   *     ? 'This app is running from built-in code'\n   *     : 'This app is running an update';\n   *\n   *   return (\n   *     <View style={styles.container}>\n   *       <Text style={styles.headerText}>Updates Demo</Text>\n   *       <Text>{runTypeMessage}</Text>\n   *       <Button onPress={() => Updates.checkForUpdateAsync()} title=\"Check manually for updates\" />\n   *       {showDownloadButton ? (\n   *         <Button onPress={() => Updates.fetchUpdateAsync()} title=\"Download and run update\" />\n   *       ) : null}\n   *       <StatusBar style=\"auto\" />\n   *     </View>\n   *   );\n   * }\n   * ```\n   */\n  const useUpdates = () => {\n    const [updatesState, setUpdatesState] = (0, _react.useState)((0, _UseUpdatesUtils.updatesStateFromContext)(_UpdatesEmitter.latestContext));\n    // Change the state based on native state machine context changes\n    (0, _react.useEffect)(() => {\n      const subscription = (0, _UpdatesEmitter.addUpdatesStateChangeListener)(event => {\n        setUpdatesState((0, _UseUpdatesUtils.updatesStateFromContext)(event.context));\n      });\n      return () => subscription.remove();\n    }, []);\n    // Return the updates info and the user facing functions\n    return {\n      currentlyRunning: _UseUpdatesUtils.currentlyRunning,\n      ...updatesState\n    };\n  };\n});","lineCount":79,"map":[[7,2,52,0,"Object"],[7,8,52,0],[7,9,52,0,"defineProperty"],[7,23,52,0],[7,24,52,0,"exports"],[7,31,52,0],[8,4,52,0,"enumerable"],[8,14,52,0],[9,4,52,0,"get"],[9,7,52,0],[9,18,52,0,"get"],[9,19,52,0],[10,6,52,0],[10,13,52,0,"useUpdates"],[10,23,52,0],[11,4,52,0],[12,2,52,0],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,2,0],[14,6,2,0,"_UpdatesEmitter"],[14,21,2,0],[14,24,2,0,"require"],[14,31,2,0],[14,32,2,0,"_dependencyMap"],[14,46,2,0],[15,2,3,0],[15,6,3,0,"_UseUpdatesUtils"],[15,22,3,0],[15,25,3,0,"require"],[15,32,3,0],[15,33,3,0,"_dependencyMap"],[15,47,3,0],[16,2,4,0],[17,0,5,0],[18,0,6,0],[19,0,7,0],[20,0,8,0],[21,0,9,0],[22,0,10,0],[23,0,11,0],[24,0,12,0],[25,0,13,0],[26,0,14,0],[27,0,15,0],[28,0,16,0],[29,0,17,0],[30,0,18,0],[31,0,19,0],[32,0,20,0],[33,0,21,0],[34,0,22,0],[35,0,23,0],[36,0,24,0],[37,0,25,0],[38,0,26,0],[39,0,27,0],[40,0,28,0],[41,0,29,0],[42,0,30,0],[43,0,31,0],[44,0,32,0],[45,0,33,0],[46,0,34,0],[47,0,35,0],[48,0,36,0],[49,0,37,0],[50,0,38,0],[51,0,39,0],[52,0,40,0],[53,0,41,0],[54,0,42,0],[55,0,43,0],[56,0,44,0],[57,0,45,0],[58,0,46,0],[59,0,47,0],[60,0,48,0],[61,0,49,0],[62,0,50,0],[63,0,51,0],[64,2,52,7],[64,8,52,13,"useUpdates"],[64,18,52,23],[64,21,52,26,"useUpdates"],[64,22,52,26],[64,27,52,32],[65,4,53,4],[65,10,53,10],[65,11,53,11,"updatesState"],[65,23,53,23],[65,25,53,25,"setUpdatesState"],[65,40,53,40],[65,41,53,41],[65,44,53,44],[65,48,53,44,"useState"],[65,54,53,52],[65,55,53,52,"useState"],[65,63,53,52],[65,65,53,53],[65,69,53,53,"updatesStateFromContext"],[65,85,53,76],[65,86,53,76,"updatesStateFromContext"],[65,109,53,76],[65,111,53,77,"latestContext"],[65,126,53,90],[65,127,53,90,"latestContext"],[65,140,53,90],[65,141,53,91],[65,142,53,92],[66,4,54,4],[67,4,55,4],[67,8,55,4,"useEffect"],[67,14,55,13],[67,15,55,13,"useEffect"],[67,24,55,13],[67,26,55,14],[67,32,55,20],[68,6,56,8],[68,12,56,14,"subscription"],[68,24,56,26],[68,27,56,29],[68,31,56,29,"addUpdatesStateChangeListener"],[68,46,56,58],[68,47,56,58,"addUpdatesStateChangeListener"],[68,76,56,58],[68,78,56,60,"event"],[68,83,56,65],[68,87,56,70],[69,8,57,12,"setUpdatesState"],[69,23,57,27],[69,24,57,28],[69,28,57,28,"updatesStateFromContext"],[69,44,57,51],[69,45,57,51,"updatesStateFromContext"],[69,68,57,51],[69,70,57,52,"event"],[69,75,57,57],[69,76,57,58,"context"],[69,83,57,65],[69,84,57,66],[69,85,57,67],[70,6,58,8],[70,7,58,9],[70,8,58,10],[71,6,59,8],[71,13,59,15],[71,19,59,21,"subscription"],[71,31,59,33],[71,32,59,34,"remove"],[71,38,59,40],[71,39,59,41],[71,40,59,42],[72,4,60,4],[72,5,60,5],[72,7,60,7],[72,9,60,9],[72,10,60,10],[73,4,61,4],[74,4,62,4],[74,11,62,11],[75,6,63,8,"currentlyRunning"],[75,22,63,24],[75,24,63,8,"currentlyRunning"],[75,40,63,24],[75,41,63,24,"currentlyRunning"],[75,57,63,24],[76,6,64,8],[76,9,64,11,"updatesState"],[77,4,65,4],[77,5,65,5],[78,2,66,0],[78,3,66,1],[79,0,66,2],[79,3]],"functionMap":{"names":["<global>","useUpdates","useEffect$argument_0","addUpdatesStateChangeListener$argument_0","<anonymous>"],"mappings":"AAA;0BCmD;cCG;2DCC;SDE;eEC,2BF;KDC;CDM"},"hasCjsExports":false},"type":"js/module"}]}